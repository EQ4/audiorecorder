<html>
    <head>
        <script type="text/javascript" src="../build/release/audiorecorder.js"></script>
        <script type="text/javascript">
            var config = {
                'worker_path': '../../build/release/worker.js'
            };
            var clips = [];

            var callback = function(clip) {
                var i = clips.length;
                clips.push(clip);
                var newClipHTML = "<a id='clip" + i + "' href='javascript:setCurrentClip(" + i + ")'>" + i + "</a> ";
                document.getElementById("clips").innerHTML += newClipHTML;

                // Select the first clip.
                if (i == 0) {
                    setCurrentClip(0);
                }
            };

            var currentClip = 0;
            var setCurrentClip = function(i) {
                document.getElementById("clip" + currentClip).style.color = "blue";
                currentClip = i;
                document.getElementById("clip" + i).style.color = "red";
            };
        </script>
    </head>
    <body>
        <p>
        <button onclick="AudioRecorder.init(config);">
            AudioRecorder.init(config)
        </button>

        <p>
        <button onclick="AudioRecorder.record();">
            AudioRecorder.record()
        </button>
        <button onclick="AudioRecorder.stopRecording(callback);">
            AudioRecorder.stopRecording(callback)
        </button>

        <p>
        <button onclick="AudioRecorder.playClip(clips[currentClip]);">
            AudioRecorder.playClip(clip)
        </button>
        <button onclick="AudioRecorder.stopPlaying();">
            AudioRecorder.stopPlaying()
        </button>

        <p>
        Clips: <span id="clips"></span>
    </body>
</html>
